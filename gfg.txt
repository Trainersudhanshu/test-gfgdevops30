updated the code to resolve bug
